@charset "utf-8";
/*!
 * Pure CSS3 indicator styles.
 *
 * @author Jos√© Nahuel Cuesta Luengo <nahuelcuestaluengo@gmail.com>
 */
 
// Variables
$height:        64px !default;
$width:         64px !default;
$duration:      1.5s !default;

$bars:          9    !default;
$color:         #555 !default;
$line-width:    max($width * .075, 4px);

$tail:          15%;
$bar-height:    50% - $tail;

// Mixins
@mixin rotate($degrees) {
  -webkit-transform: rotate(#{$degrees}deg);
     -moz-transform: rotate(#{$degrees}deg);
      -ms-transform: rotate(#{$degrees}deg);
       -o-transform: rotate(#{$degrees}deg);
          transform: rotate(#{$degrees}deg);
}

@mixin translate($x: 0, $y: 0) {
  -webkit-transform: translate($x, $y);
     -moz-transform: translate($x, $y);
      -ms-transform: translate($x, $y);
       -o-transform: translate($x, $y);
          transform: translate($x, $y);
}

@mixin rotate-translate($degrees: 0, $x: 0, $y: 0) {
  -webkit-transform: rotate(#{$degrees}deg) translate($x, $y);
     -moz-transform: rotate(#{$degrees}deg) translate($x, $y);
      -ms-transform: rotate(#{$degrees}deg) translate($x, $y);
       -o-transform: rotate(#{$degrees}deg) translate($x, $y);
          transform: rotate(#{$degrees}deg) translate($x, $y);
  
}

@mixin transform-origin($x: 50%, $y: 50%, $z: 0) {
  -webkit-transform-origin: $x $y $z;
     -moz-transform-origin: $x $y $z;
      -ms-transform-origin: $x $y $z;
       -o-transform-origin: $x $y $z;
          transform-origin: $x $y $z;
}

@mixin animation($name, $duration: 1s, $loop: infinite, $easing: linear) {
  -webkit-animation: $name $duration $loop;
     -moz-animation: $name $duration $loop;
       -o-animation: $name $duration $loop;
          animation: $name $duration $loop;
  -webkit-animation-timing-function: $easing;
     -moz-animation-timing-function: $easing;
       -o-animation-timing-function: $easing;
          animation-timing-function: $easing;
}

@mixin animation-delay($delay) {
  -webkit-animation-delay: $delay;
     -moz-animation-delay: $delay;
       -o-animation-delay: $delay;
          animation-delay: $delay;
}

@mixin box-sizing($sizing: border-box) {
  -webkit-box-sizing: $sizing;
     -moz-box-sizing: $sizing;
          box-sizing: $sizing;
}

@mixin indicator-size($bars) {
  $rotation-step: 360 / $bars;
  $lighten-step:  1 / $bars;
  $bars:          round($bars);
  
  @for $index from 1 through $bars {
    &:nth-child(#{$index}) {
      @include rotate-translate($index * $rotation-step, $y: -$tail);
      
      background: transparentize($color, 1 - $index * $lighten-step);
    }
  }
}

// Animation keyframes definition
@-webkit-keyframes full-rotation {
  0%   { -webkit-transform: rotate(0deg); }
  100% { -webkit-transform: rotate(360deg); }
}
@-moz-keyframes full-rotation {
  0%   { -moz-transform: rotate(0deg); }
  100% { -moz-transform: rotate(360deg); }
}
@-o-keyframes full-rotation {
  0%   { -o-transform: rotate(0deg); }
  100% { -o-transform: rotate(360deg); }
}
@keyframes full-rotation {
  0%   { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

// Styles
.indicator {
  @include animation(full-rotation, $duration, infinite);
  @include box-sizing;

  position: relative;
  display: inline-block;
  height: $height;
  width: $width;
   
  > * {
    @include transform-origin($y: 100%);
    @include indicator-size($bars);
    @include box-sizing;
    
    position: absolute;
    bottom: 50%;
    left: 50%;
    height: $bar-height;
    width: $line-width;
    background: $color;
    border-radius: $line-width;
  }
  
  // Bars count definition
  @for $bars-count from 3 through 36 {
    &.bars-#{$bars-count} > * {
      @include indicator-size($bars-count);
    }
  }
  
  // General sizes definition
  &.small {
    height: $height / 4;
    width: $width / 4;
  }
  
  &.medium {
    height: $height / 2;
    width: $width / 2;
  }

  &.normal {
    height: $height;
    width: $width;
  }

  &.large {
    height: $height * 2;
    width: $width * 2;
  }

  &.x-large {
    height: $height * 4;
    width: $width * 4;
  }
}